#+STARTUP: showall
#+PROPERTY: header-args :results silent

*Update* <2019-10-02 星期三>

* Emacs
[[https://github.com/zsxh/emacs.d][My Emacs Config]]

* Env 环境变量
  Install =zsh=, =prezto= first, then
  #+BEGIN_SRC shell
    ln -sf `pwd`/env/myzshenv ~/.myzshenv
    ln -sf `pwd`/env/zpreztorc ~/.zpreztorc
    echo "source \"${HOME}/.myzshenv\"" >> ~/.zshenv
  #+END_SRC

* Xmodmap 键位映射
  #+BEGIN_SRC shell
    ln -sf `pwd`/.Xmodmap ~/
  #+END_SRC

  - Not Working
    - [[https://www.reddit.com/r/archlinux/comments/abfuov/xmodmap_and_xkbset_settings_are_reset_to_default/][xmodmap and xkbset settings are reset to default after system goes to sleep/standby]]
    - [[https://wiki.archlinux.org/index.php/Deepin_Desktop_Environment_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4][故障排除-从待机状态恢复后]]
    - [[https://superuser.com/questions/393423/the-symbol-and-systemctl-and-vsftpd][The @ symbol and systemctl and vsftpd]]

* Firefox Layout
  set the pref ~toolkit.legacyUserProfileCustomizations.stylesheets~ to =true= in ~about:config~
  copy ./firefox/chrome directory into ~/.mozilla/firefox/${some-hash-code}.dev-edition-default/

* Terminal
** Alacritty
  Install =alacritty= fisrt
  #+begin_src shell
    ln -sf `pwd`/terminal/alacritty.yml ~/.config/alacritty/
  #+end_src
** Tmux
  #+begin_src shell
    ln -sf `pwd`/terminal/.tmux.conf ~/
  #+end_src
** Truecolor and Italic support
   https://github.com/syl20bnr/spacemacs/wiki/Terminal
  #+begin_src shell
    tic -x -o ~/.terminfo `pwd`/terminal/xterm-24bit.terminfo
  #+end_src

* Vim
  #+BEGIN_SRC shell
    ln -sf `pwd`/.vimrc ~/
  #+END_SRC sh

* Inputrc
  #+BEGIN_SRC shell
    ln -sf `pwd`/.inputrc ~/
  #+END_SRC

* Podman, Skopeo, Buildah, Podman Compose
  #+begin_src shell
    mkdir -p ~/.config/containers
    ln -sf `pwd`/container/registries.conf ~/.config/containers/registries.conf
  #+end_src

* Docker(Drop)
  #+BEGIN_SRC shell
    sudo ln -sf `pwd`/container/override.conf /etc/systemd/system/docker.service.d/
  #+END_SRC


* Rime
  file:rime/README.org

* Polybar
  install ~xorg-xrandr~
  https://github.com/polybar/polybar
  #+begin_src shell
    ln -sf `pwd`/polybar ~/.config/
    ln -sf `pwd`/polybar/polybar.desktop ~/.config/autostart
  #+end_src

* Albert
  Install [[https://github.com/albertlauncher/albert][Albert]] first, then install extensions, Pressing the =spacebar= on it activated extensions.
  #+begin_src shell
    git clone --depth=1 https://github.com/albertlauncher/python.git ~/.local/share/albert/org.albert.extension.python/modules
  #+end_src

* BEGIN
** pyenv
    Install https://github.com/pyenv/pyenv
    #+begin_src shell
      pyenv install miniconda3-latest
      pyenv global miniconda3-latest
      # https://stackoverflow.com/questions/58044214/installing-anaconda-with-pyenv-unable-to-configure-virtual-environment
      # disable init of env "base"
      conda config --set auto_activate_base false
      conda update --all
      conda install python=version
    #+end_src
** dotfiles
  #+begin_src shell
    # flake8 忽略缩进警告，调整每行默认长度
    # pycodestyle 忽略缩进警告，调整每行默认长度
    ln -sf `pwd`/python/pip/pip.conf ~/.pip/
    ln -sf `pwd`/python/.condarc ~/
    ln -sf `pwd`/python/flake8 ~/.config
    ln -sf `pwd`/python/pycodestyle ~/.config
  #+end_src
** virtual environment examples
*** venv (deployment projects)
    https://docs.python.org/3/tutorial/venv.html
    #+begin_src shell
      # dir path ./venv is for emacs lsp-python-ms server
      python -m venv ./venv
      source venv/bin/activate
      deactivate
      pip freeze > requirements.txt
      pip install -f requirements.txt
    #+end_src
*** conda virtual environment (machine-learning researches)
    https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#
    #+begin_src shell
      conda create --name(-n) machine-learning python=3.8
      conda env export > environment.yml
      conda env create -f environment.yml
      conda activate machine-learning

      # specifying a location for an environment
      conda create --prefix ./envs jupyterlab
      conda activate ./envs
      conda deactivate
    #+end_src

* Rustfmt
  #+begin_src shell
    ln -nsf `pwd`/rust/rustfmt ~/.config/
    ln -sf `pwd`/rust/config ~/.cargo/
  #+end_src

* NodeJs
  Install ~nvm~
  #+begin_src shell
    npm config set registry https://registry.npm.taobao.org
  #+end_src

* Proxy

* 显卡
https://github.com/vetzki/nvidia-prime-switch-lightdm
https://github.com/zsxh/nvidia-prime-switch-lightdm
https://github.com/Askannz/optimus-manager

* Bluetooth

  install =pulseaudio-bluetooth, bluez-utils(providing the bluetoothctl)=

  #+begin_src example
  $ bluetoothctl
  > power on
  > ...
  > scan on
  > ..
  > pair 28:...
  > ...
  > connect 28:...
  #+end_src

  Pairing works, but connecting does not

  ~journalctl -xe~, you might see ~bluetoothd[5556]: a2dp-sink profile connect failed for 00:1D:43:6D:03:26: Protocol not available~,
  that may be due to the =pulseaudio-bluetooth= package not being installed.

* Tips
** A stop job is running for session c2 of user ...
   #+begin_src shell
     sudo systemctl edit systemd-timesyncd.service
   #+end_src

   #+begin_example
     [Service]
     TimeoutStopSec=1s
   #+end_example
   save as "systemd-timesyncd.service.d/override.conf" file
   https://www.reddit.com/r/archlinux/comments/4bawf7/a_stop_job_is_running_for_session_c2_of_user/
